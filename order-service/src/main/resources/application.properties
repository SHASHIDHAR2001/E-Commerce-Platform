# ================================
# Basic App Config
# ================================
spring.application.name=${APP_NAME:Order-Service}
server.port=${ORDER_SERVER_PORT:8081}

# ================================
# PostgreSQL Database Configuration (RDS)
# ================================
spring.datasource.url=${ORDER_DB_URL}
spring.datasource.username=${ORDER_DB_USERNAME}
spring.datasource.password=${ORDER_DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:true}



# ================================
# RabbitMQ Configuration
# ================================
spring.rabbitmq.host=${RABBITMQ_HOST}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME}
spring.rabbitmq.password=${RABBITMQ_PASSWORD}

rabbitmq.queue.order=${RABBITMQ_QUEUE:inventory.queue}
rabbitmq.exchange.order=${RABBITMQ_EXCHANGE:inventory.exchange}
rabbitmq.routing.key.order=${RABBITMQ_ROUTING_KEY:inventory.routing.key}


# ================================
# Inventory Service URL
# ================================
inventory.service.url=${INVENTORY_SERVICE_URL}
inventory.url=${INVENTORY_BASE_URL}

# ================================
# Logging Configuration
# ================================
logging.level.com.ecommerce=${LOG_LEVEL:INFO}
logging.level.org.springframework.web=${SPRING_WEB_LOG_LEVEL:INFO}
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ================================
# Swagger / Springdoc Configuration
# ================================
springdoc.api-docs.path=${API_DOCS_PATH:/api-docs}
springdoc.swagger-ui.path=${SWAGGER_UI_PATH:/swagger-ui.html}
springdoc.swagger-ui.operationsSorter=${SWAGGER_SORTER:method}

# ================================
# Brevo SMTP (Email)
# ================================
spring.mail.host=${MAIL_HOST:smtp-relay.brevo.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${BREVO_SMTP_USER}
spring.mail.password=${BREVO_SMTP_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# default from email (must be a sender configured in Brevo)
app.mail.from.address=${MAIL_FROM_ADDRESS}
app.mail.from.name=${MAIL_FROM_NAME:E-Commerce Platform}

# ================================
# Brevo SMS (Transactional SMS API)
# ================================
#brevo.sms.apiKey=${BREVO_API_KEY}
brevo.sms.apiKey=${BREVO_API_KEY}
brevo.sms.url=${BREVO_SMS_URL:https://api.brevo.com/v3/transactionalSMS/send}

# SMS sender name (must be configured/allowed in Brevo)
brevo.sms.sender=${BREVO_SMS_SENDER}

# default SMS type: transactional or marketing (Brevo docs)
brevo.sms.type=${BREVO_SMS_TYPE:transactional}

# optional tag & callback URL
brevo.sms.tag=${BREVO_SMS_TAG:order-confirmation}
brevo.sms.callbackUrl=${BREVO_SMS_CALLBACK_URL:https://www.google.com}
